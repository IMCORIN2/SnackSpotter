<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="icon" href="../images/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />
  <!-- Font Awesome CSS -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <link href="../css/mystyle.css" rel="stylesheet" />
  <title>SnackSpotter  | 로그인</title>
  <style>
    .jumbotron {
      border-radius: 0;
    }

    .input-group-text {
      border-right-color: white;
      background-color: white;
    }

    .input-group>input {
      border-left-color: white;
    }
      body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }

        .foodDisplay {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .recommendButton {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        .imageContainer img {
            width: 150px;
            height: 150px;
        }
  </style>
</head>

<body>
  <div class="jumbotron bg-sparta text-white text-center" onclick="window.location.href='/html/index.html'">
    <h1 class="font-weight-bold"> &#129384; SnackSpotter &#127829;</h1>
  </div>
  <div class="wrap">
    <div class="card mx-auto" style="max-width: 480px">
      <div class="card-body">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1"><i class="fa fa-user-o" aria-hidden="true"></i></span>
          </div>
          <input type="text" class="form-control" placeholder="아이디" aria-label="Username" aria-describedby="basic-addon1" id="inputEmail" />
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon2"><i class="fa fa-lock" aria-hidden="true"></i></span>
          </div>
          <input type="password" class="form-control" placeholder="비밀번호" aria-label="Password" aria-describedby="basic-addon2" id="inputPassword" />
        </div>
        <div class="row d-flex justify-content-around">
          <div class="col-6 pr-2">
            <button type="button" class="btn btn-sparta btn-block" onclick="sign_in()">로그인</button>
          </div>
          <div class="col-6 pl-2">
            <button type="button" class="btn btn-sparta btn-block" onclick="window.location.href='register.html'">
              회원가입
          </button>
          
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal text-left" id="alertModal" tabindex="-1" role="dialog" aria-labelledby="alertModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="alertModalLabel">알림</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" id="alertText"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-sparta" data-dismiss="modal">확인</button>
        </div>
      </div>
    </div>
  </div>
  <div id="g_id_onload" data-client_id="946284474369-q9eu0p37nm3e31ecilliolfuqvi8gmef.apps.googleusercontent.com"
  data-login_uri="https://127.0.0.1:5500/assets/html/index.html" data-auto_prompt="false">
</div>
<div class="g_id_signin" data-type="standard" data size="large"
  data-theme="outline" data-text="sign_in_with" data-shape="rectangular" data-logo_alignment="left">
</div>
  <button id="recommendButton" onclick="getRandomFood()">음식 추천 받기</button>
    <div id="foodDisplay">음식 추천이 나오는 곳</div>
    <div id="imageContainer"></div>
    <div id="footer-fixed"></div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
  <script src="../js/auth.js"></script>

  <script>
    // 기존 스크립트 코드...

  </script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
        function handleCredentialResponse(response) {
          console.log("Encoded JWT ID token: " + response.credential);
        }
        window.onload = function () {
          google.accounts.id.initialize({
            client_id: "946284474369-q9eu0p37nm3e31ecilliolfuqvi8gmef.apps.googleusercontent.com",
            callback: handleCredentialResponse
          });
          google.accounts.id.renderButton(
            document.getElementById("buttonDiv"),
            { theme: "outline", size: "large" }  // customization attributes
          );
          google.accounts.id.prompt(); // also display the One Tap dialog
        }
    </script>
<script>
  const API_KEY = 'AIzaSyBiBSVB9c-0pIt-Ogjs2ME7ziaN4CLzT68';
  const CX = '518b23407ec824f6e';
  
  // 음식 목록 배열
  const foods = [
      '모찌', '삼각김밥', '신라면', '샌드위치', '스윙칩', '햄버거', '소세지', '샐러드', '타코', '피자'
  ];
  // 랜덤 음식 추천 함수
  function getRandomFood() {
      // 배열에서 랜덤으로 음식 선택
      const randomIndex = Math.floor(Math.random() * foods.length);
      const query = foods[randomIndex];
      // 화면에 표시
      document.getElementById('foodDisplay').innerText = '오늘 메뉴는 ' + query + '어때요?';
      const url = `https://www.googleapis.com/customsearch/v1?q=${query}&cx=${CX}&key=${API_KEY}&searchType=image`;
      fetch(url)
      .then(response => response.json())
      .then(data => {
      if (data.items && data.items.length > 0) {
    const firstImageUrl = data.items[0].link;
    const imageElement = document.createElement('img');
        imageElement.src = firstImageUrl;
        const previousImageElement = document.getElementById('imageContainer').firstChild;
        document.getElementById('imageContainer').replaceChild(imageElement, previousImageElement);
      } else {
        console.log('No images found.');
      }
    })
        .catch(error => console.error('Error:', error));
  }

</script>
<script src="../js/nav.js"></script>
    
</body>
<footer>

  <div id="footer-fixed"></div>
</footer>

</html>
